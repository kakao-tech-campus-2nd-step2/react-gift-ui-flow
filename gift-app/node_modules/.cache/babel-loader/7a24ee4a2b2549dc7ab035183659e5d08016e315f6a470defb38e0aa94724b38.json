{"ast":null,"code":"var _jsxFileName = \"/Users/a/qqu/kateCam/step2/week2/react-gift-ui-flow/gift-app/src/hooks/LoginContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useState, useContext, useMemo, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginContext = /*#__PURE__*/createContext(undefined);\nexport const LoginProvider = ({\n  children\n}) => {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(() => {\n    const saved = sessionStorage.getItem('isLoggedIn');\n    return saved === 'true';\n  });\n  const [username, setUsername] = useState(() => {\n    return sessionStorage.getItem('username') || '';\n  });\n  const [redirectPath, setRedirectPath] = useState(() => {\n    return sessionStorage.getItem('redirectPath') || '/';\n  });\n  useEffect(() => {\n    const authToken = sessionStorage.getItem('authToken');\n    if (authToken) {\n      setIsLoggedIn(true);\n      setUsername(authToken);\n    }\n  }, []);\n  const login = username => {\n    setIsLoggedIn(true);\n    setUsername(username);\n    sessionStorage.setItem('isLoggedIn', 'true');\n    sessionStorage.setItem('username', username);\n    sessionStorage.setItem('authToken', username);\n  };\n  const logout = () => {\n    setIsLoggedIn(false);\n    setUsername('');\n    sessionStorage.removeItem('isLoggedIn');\n    sessionStorage.removeItem('username');\n    sessionStorage.removeItem('authToken');\n  };\n  const setRedirectPathHandler = path => {\n    setRedirectPath(path);\n    sessionStorage.setItem('redirectPath', path);\n  };\n  const value = useMemo(() => ({\n    isLoggedIn,\n    username,\n    login,\n    logout,\n    setRedirectPath: setRedirectPathHandler,\n    redirectPath\n  }), [isLoggedIn, username, redirectPath]);\n  return /*#__PURE__*/_jsxDEV(LoginContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginProvider, \"C+/GgSIHNkTs56pIqLHXuSmfMUE=\");\n_c = LoginProvider;\nexport const useLogin = () => {\n  _s2();\n  const context = useContext(LoginContext);\n  if (!context) {\n    throw new Error('useLogin은 LoginProvider 내에서 사용해야 합니다.');\n  }\n  return context;\n};\n_s2(useLogin, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"LoginProvider\");","map":{"version":3,"names":["createContext","useState","useContext","useMemo","useEffect","jsxDEV","_jsxDEV","LoginContext","undefined","LoginProvider","children","_s","isLoggedIn","setIsLoggedIn","saved","sessionStorage","getItem","username","setUsername","redirectPath","setRedirectPath","authToken","login","setItem","logout","removeItem","setRedirectPathHandler","path","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useLogin","_s2","context","Error","$RefreshReg$"],"sources":["/Users/a/qqu/kateCam/step2/week2/react-gift-ui-flow/gift-app/src/hooks/LoginContext.tsx"],"sourcesContent":["import { createContext, useState, ReactNode, useContext, useMemo, useEffect } from 'react';\n\ninterface LoginContextProps {\n  isLoggedIn: boolean;\n  username: string;\n  login: (username: string) => void;\n  logout: () => void;\n  setRedirectPath: (path: string) => void;\n  redirectPath: string;\n}\n\nconst LoginContext = createContext<LoginContextProps | undefined>(undefined);\n\ninterface LoginProviderProps {\n  children: ReactNode;\n}\n\nexport const LoginProvider = ({ children }: LoginProviderProps) => {\n  const [isLoggedIn, setIsLoggedIn] = useState(() => {\n    const saved = sessionStorage.getItem('isLoggedIn');\n    return saved === 'true';\n  });\n  const [username, setUsername] = useState(() => {\n    return sessionStorage.getItem('username') || '';\n  });\n  const [redirectPath, setRedirectPath] = useState(() => {\n    return sessionStorage.getItem('redirectPath') || '/';\n  });\n\n  useEffect(() => {\n    const authToken = sessionStorage.getItem('authToken');\n    if (authToken) {\n      setIsLoggedIn(true);\n      setUsername(authToken);\n    }\n  }, []);\n\n  const login = (username: string) => {\n    setIsLoggedIn(true);\n    setUsername(username);\n    sessionStorage.setItem('isLoggedIn', 'true');\n    sessionStorage.setItem('username', username);\n    sessionStorage.setItem('authToken', username);\n  };\n\n  const logout = () => {\n    setIsLoggedIn(false);\n    setUsername('');\n    sessionStorage.removeItem('isLoggedIn');\n    sessionStorage.removeItem('username');\n    sessionStorage.removeItem('authToken');\n  };\n\n  const setRedirectPathHandler = (path: string) => {\n    setRedirectPath(path);\n    sessionStorage.setItem('redirectPath', path);\n  };\n\n  const value = useMemo(\n    () => ({ isLoggedIn, username, login, logout, setRedirectPath: setRedirectPathHandler, redirectPath }),\n    [isLoggedIn, username, redirectPath]\n  );\n\n  return (\n    <LoginContext.Provider value={value}>\n      {children}\n    </LoginContext.Provider>\n  );\n};\n\nexport const useLogin = () => {\n  const context = useContext(LoginContext);\n  if (!context) {\n    throw new Error('useLogin은 LoginProvider 내에서 사용해야 합니다.');\n  }\n  return context;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}