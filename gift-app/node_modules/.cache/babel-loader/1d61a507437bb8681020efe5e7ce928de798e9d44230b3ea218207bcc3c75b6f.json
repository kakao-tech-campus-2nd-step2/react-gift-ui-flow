{"ast":null,"code":"var _jsxFileName = \"/Users/a/qqu/kateCam/step2/week2/react-gift-ui-flow/gift-app/src/hooks/LoginContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useState, useContext, useMemo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginContext = /*#__PURE__*/createContext(undefined);\nexport const LoginProvider = ({\n  children\n}) => {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(() => {\n    const saved = sessionStorage.getItem('isLoggedIn');\n    return saved === 'true';\n  });\n  const [username, setUsername] = useState(() => {\n    return sessionStorage.getItem('username') || '';\n  });\n  const [redirectPath, setRedirectPath] = useState(() => {\n    return sessionStorage.getItem('redirectPath') || '/';\n  });\n  const login = username => {\n    setIsLoggedIn(true);\n    setUsername(username);\n    sessionStorage.setItem('isLoggedIn', 'true');\n    sessionStorage.setItem('username', username);\n  };\n  const logout = () => {\n    setIsLoggedIn(false);\n    setUsername('');\n    sessionStorage.removeItem('isLoggedIn');\n    sessionStorage.removeItem('username');\n  };\n  const setRedirectPathHandler = path => {\n    setRedirectPath(path);\n    sessionStorage.setItem('redirectPath', path);\n  };\n  const value = useMemo(() => ({\n    isLoggedIn,\n    username,\n    login,\n    logout,\n    setRedirectPath: setRedirectPathHandler,\n    redirectPath\n  }), [isLoggedIn, username, redirectPath]);\n  return /*#__PURE__*/_jsxDEV(LoginContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginProvider, \"5B7B2U91XAP+4Il7dOsOPFSXt00=\");\n_c = LoginProvider;\nexport const useLogin = () => {\n  _s2();\n  const context = useContext(LoginContext);\n  if (!context) {\n    throw new Error('useLogin은 LoginProvider 내에서 사용해야 합니다.');\n  }\n  return context;\n};\n_s2(useLogin, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"LoginProvider\");","map":{"version":3,"names":["createContext","useState","useContext","useMemo","jsxDEV","_jsxDEV","LoginContext","undefined","LoginProvider","children","_s","isLoggedIn","setIsLoggedIn","saved","sessionStorage","getItem","username","setUsername","redirectPath","setRedirectPath","login","setItem","logout","removeItem","setRedirectPathHandler","path","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useLogin","_s2","context","Error","$RefreshReg$"],"sources":["/Users/a/qqu/kateCam/step2/week2/react-gift-ui-flow/gift-app/src/hooks/LoginContext.tsx"],"sourcesContent":["import { createContext, useState, ReactNode, useContext, useMemo } from 'react';\n\ninterface LoginContextProps {\n  isLoggedIn: boolean;\n  username: string;\n  login: (username: string) => void;\n  logout: () => void;\n  setRedirectPath: (path: string) => void;\n  redirectPath: string;\n}\n\nconst LoginContext = createContext<LoginContextProps | undefined>(undefined);\n\ninterface LoginProviderProps {\n  children: ReactNode;\n}\n\nexport const LoginProvider = ({ children }: LoginProviderProps) => {\n  const [isLoggedIn, setIsLoggedIn] = useState(() => {\n    const saved = sessionStorage.getItem('isLoggedIn');\n    return saved === 'true';\n  });\n  const [username, setUsername] = useState(() => {\n    return sessionStorage.getItem('username') || '';\n  });\n  const [redirectPath, setRedirectPath] = useState(() => {\n    return sessionStorage.getItem('redirectPath') || '/';\n  });\n\n  const login = (username: string) => {\n    setIsLoggedIn(true);\n    setUsername(username);\n    sessionStorage.setItem('isLoggedIn', 'true');\n    sessionStorage.setItem('username', username);\n  };\n\n  const logout = () => {\n    setIsLoggedIn(false);\n    setUsername('');\n    sessionStorage.removeItem('isLoggedIn');\n    sessionStorage.removeItem('username');\n  };\n\n  const setRedirectPathHandler = (path: string) => {\n    setRedirectPath(path);\n    sessionStorage.setItem('redirectPath', path);\n  };\n\n  const value = useMemo(\n    () => ({ isLoggedIn, username, login, logout, setRedirectPath: setRedirectPathHandler, redirectPath }),\n    [isLoggedIn, username, redirectPath]\n  );\n\n  return (\n    <LoginContext.Provider value={value}>\n      {children}\n    </LoginContext.Provider>\n  );\n};\n\nexport const useLogin = () => {\n  const context = useContext(LoginContext);\n  if (!context) {\n    throw new Error('useLogin은 LoginProvider 내에서 사용해야 합니다.');\n  }\n  return context;\n};"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAaC,UAAU,EAAEC,OAAO,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAWhF,MAAMC,YAAY,gBAAGN,aAAa,CAAgCO,SAAS,CAAC;AAM5E,OAAO,MAAMC,aAAa,GAAGA,CAAC;EAAEC;AAA6B,CAAC,KAAK;EAAAC,EAAA;EACjE,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC,MAAM;IACjD,MAAMY,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;IAClD,OAAOF,KAAK,KAAK,MAAM;EACzB,CAAC,CAAC;EACF,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,MAAM;IAC7C,OAAOa,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE;EACjD,CAAC,CAAC;EACF,MAAM,CAACG,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,MAAM;IACrD,OAAOa,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,IAAI,GAAG;EACtD,CAAC,CAAC;EAEF,MAAMK,KAAK,GAAIJ,QAAgB,IAAK;IAClCJ,aAAa,CAAC,IAAI,CAAC;IACnBK,WAAW,CAACD,QAAQ,CAAC;IACrBF,cAAc,CAACO,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC;IAC5CP,cAAc,CAACO,OAAO,CAAC,UAAU,EAAEL,QAAQ,CAAC;EAC9C,CAAC;EAED,MAAMM,MAAM,GAAGA,CAAA,KAAM;IACnBV,aAAa,CAAC,KAAK,CAAC;IACpBK,WAAW,CAAC,EAAE,CAAC;IACfH,cAAc,CAACS,UAAU,CAAC,YAAY,CAAC;IACvCT,cAAc,CAACS,UAAU,CAAC,UAAU,CAAC;EACvC,CAAC;EAED,MAAMC,sBAAsB,GAAIC,IAAY,IAAK;IAC/CN,eAAe,CAACM,IAAI,CAAC;IACrBX,cAAc,CAACO,OAAO,CAAC,cAAc,EAAEI,IAAI,CAAC;EAC9C,CAAC;EAED,MAAMC,KAAK,GAAGvB,OAAO,CACnB,OAAO;IAAEQ,UAAU;IAAEK,QAAQ;IAAEI,KAAK;IAAEE,MAAM;IAAEH,eAAe,EAAEK,sBAAsB;IAAEN;EAAa,CAAC,CAAC,EACtG,CAACP,UAAU,EAAEK,QAAQ,EAAEE,YAAY,CACrC,CAAC;EAED,oBACEb,OAAA,CAACC,YAAY,CAACqB,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAjB,QAAA,EACjCA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAE5B,CAAC;AAACrB,EAAA,CAzCWF,aAAa;AAAAwB,EAAA,GAAbxB,aAAa;AA2C1B,OAAO,MAAMyB,QAAQ,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC5B,MAAMC,OAAO,GAAGjC,UAAU,CAACI,YAAY,CAAC;EACxC,IAAI,CAAC6B,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,uCAAuC,CAAC;EAC1D;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,GAAA,CANWD,QAAQ;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}